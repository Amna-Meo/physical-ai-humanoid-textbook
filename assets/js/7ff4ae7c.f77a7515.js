"use strict";(globalThis.webpackChunktextbook_frontend=globalThis.webpackChunktextbook_frontend||[]).push([[442],{8253(e,a,t){t.r(a),t.d(a,{default:()=>p});var n={};t.r(n);var r=t(6540),l=t(6347);const s=process.env.REACT_APP_API_BASE_URL||"http://localhost:8000/api/v1",o={"Content-Type":"application/json"},i=()=>localStorage.getItem("access_token"),c=()=>{const e=i();return e?{...o,Authorization:`Bearer ${e}`}:o};new class{async login(e,a){const t=await fetch(`${s}/users/token`,{method:"POST",headers:o,body:JSON.stringify({username:e,password:a})});if(!t.ok)throw new Error(`Login failed: ${t.statusText}`);const n=await t.json();return n.access_token&&localStorage.setItem("access_token",n.access_token),n}async register(e){const a=await fetch(`${s}/users/register`,{method:"POST",headers:o,body:JSON.stringify(e)});if(!a.ok)throw new Error(`Registration failed: ${a.statusText}`);return await a.json()}async logout(){localStorage.removeItem("access_token")}async getMe(){const e=await fetch(`${s}/users/me`,{method:"GET",headers:c()});if(!e.ok)throw new Error(`Failed to get user: ${e.statusText}`);return await e.json()}async updateProfile(e){const a=await fetch(`${s}/users/me`,{method:"PUT",headers:c(),body:JSON.stringify(e)});if(!a.ok)throw new Error(`Failed to update profile: ${a.statusText}`);return await a.json()}async getChapters(e={}){const a=new URLSearchParams(e).toString(),t=a?`${s}/chapters?${a}`:`${s}/chapters`,n=await fetch(t,{method:"GET",headers:c()});if(!n.ok)throw new Error(`Failed to get chapters: ${n.statusText}`);return await n.json()}async getChapterById(e){const a=await fetch(`${s}/chapters/${e}`,{method:"GET",headers:c()});if(!a.ok)throw new Error(`Failed to get chapter: ${a.statusText}`);return await a.json()}async getLearningPaths(){const e=await fetch(`${s}/learning-paths`,{method:"GET",headers:c()});if(!e.ok)throw new Error(`Failed to get learning paths: ${e.statusText}`);return await e.json()}async getLearningPathById(e){const a=await fetch(`${s}/learning-paths/${e}`,{method:"GET",headers:c()});if(!a.ok)throw new Error(`Failed to get learning path: ${a.statusText}`);return await a.json()}async createLearningPath(e){const a=await fetch(`${s}/learning-paths`,{method:"POST",headers:c(),body:JSON.stringify(e)});if(!a.ok)throw new Error(`Failed to create learning path: ${a.statusText}`);return await a.json()}async updateLearningPath(e,a){const t=await fetch(`${s}/learning-paths/${e}`,{method:"PUT",headers:c(),body:JSON.stringify(a)});if(!t.ok)throw new Error(`Failed to update learning path: ${t.statusText}`);return await t.json()}async deleteLearningPath(e){const a=await fetch(`${s}/learning-paths/${e}`,{method:"DELETE",headers:c()});if(!a.ok)throw new Error(`Failed to delete learning path: ${a.statusText}`);return await a.json()}async getLearningPathSteps(e){const a=await fetch(`${s}/learning-paths/${e}/steps`,{method:"GET",headers:c()});if(!a.ok)throw new Error(`Failed to get learning path steps: ${a.statusText}`);return await a.json()}async getUserLearningPaths(e){const a=await fetch(`${s}/learning-paths/user/${e}`,{method:"GET",headers:c()});if(!a.ok)throw new Error(`Failed to get user learning paths: ${a.statusText}`);return await a.json()}async assignLearningPathToUser(e,a){const t=await fetch(`${s}/learning-paths/assign/${e}/${a}`,{method:"POST",headers:c()});if(!t.ok)throw new Error(`Failed to assign learning path to user: ${t.statusText}`);return await t.json()}async generatePersonalizedLearningPath(e){const a=await fetch(`${s}/learning-paths/generate-personalized/${e}`,{method:"POST",headers:c()});if(!a.ok)throw new Error(`Failed to generate personalized learning path: ${a.statusText}`);return await a.json()}async updateLearningPathStepProgress(e,a,t,n){const r=await fetch(`${s}/user-learning-path-progress`,{method:"POST",headers:c(),body:JSON.stringify({user_id:e,learning_path_id:a,step_id:t,status:n})});if(!r.ok)throw new Error(`Failed to update learning path step progress: ${r.statusText}`);return await r.json()}async getUserLearningPathProgress(e,a){const t=await fetch(`${s}/learning-paths/user/${e}/progress/${a}`,{method:"GET",headers:c()});if(!t.ok)throw new Error(`Failed to get user learning path progress: ${t.statusText}`);return await t.json()}async createChatSession(e=null){const a=await fetch(`${s}/ai/chat-sessions`,{method:"POST",headers:c(),body:JSON.stringify({session_title:e})});if(!a.ok)throw new Error(`Failed to create chat session: ${a.statusText}`);return await a.json()}async getChatSession(e){const a=await fetch(`${s}/ai/chat-sessions/${e}`,{method:"GET",headers:c()});if(!a.ok)throw new Error(`Failed to get chat session: ${a.statusText}`);return await a.json()}async sendMessage(e,a){const t=await fetch(`${s}/ai/chat-sessions/${e}/messages`,{method:"POST",headers:c(),body:JSON.stringify({content:a,role:"user",message_type:"user"})});if(!t.ok)throw new Error(`Failed to send message: ${t.statusText}`);return await t.json()}async searchContent(e,a={}){const t=new URLSearchParams({query:e,...a}),n=await fetch(`${s}/ai/search?${t.toString()}`,{method:"GET",headers:c()});if(!n.ok)throw new Error(`Failed to search content: ${n.statusText}`);return await n.json()}isAuthenticated(){return!!i()}setAuthToken(e){localStorage.setItem("access_token",e)}removeAuthToken(){localStorage.removeItem("access_token")}};const m=({userId:e})=>{const[a,t]=(0,r.useState)([]),[l,s]=(0,r.useState)(!0),[o,i]=(0,r.useState)(null);(0,r.useEffect)(()=>{e&&c()},[e]);const c=async()=>{try{s(!0),i(null);const a=await n.apiService.getUserLearningPaths(e);t(a)}catch(a){i("Failed to load user learning paths: "+a.message),console.error("Error loading user learning paths:",a)}finally{s(!1)}};return l?r.createElement("div",null,"Loading your learning paths..."):o?r.createElement("div",null,"Error: ",o):r.createElement("div",{className:"user-learning-paths"},r.createElement("h2",null,"Your Learning Paths"),0===a.length?r.createElement("p",null,"You don't have any learning paths assigned yet."):r.createElement("div",{className:"learning-paths-grid"},a.map(e=>r.createElement("div",{key:e.id,className:"learning-path-card"},r.createElement("h3",null,e.learning_path.title),r.createElement("p",null,e.learning_path.description),r.createElement("div",{className:"path-progress"},r.createElement("span",null,"Progress: ",e.progress_percentage,"%"),r.createElement("span",null,"Status: ",e.status)),r.createElement("button",{className:"btn btn-primary",onClick:()=>window.location.href=`/learning-path/${e.learning_path_id}`},"Continue Learning")))))},u=({userId:e})=>{const[a,t]=(0,r.useState)(!1),[l,s]=(0,r.useState)(null),[o,i]=(0,r.useState)(null);return r.createElement("div",{className:"personalized-path-generator"},r.createElement("h3",null,"Generate Personalized Learning Path"),r.createElement("p",null,"Based on your professional background and learning preferences, we can create a personalized learning path for you."),r.createElement("button",{className:"btn btn-primary",onClick:async()=>{try{t(!0),s(null),i(null);const a=await n.apiService.generatePersonalizedLearningPath(e);i("Personalized learning path generated successfully!"),console.log("Generated path:",a)}catch(a){s("Failed to generate personalized learning path: "+a.message),console.error("Error generating personalized path:",a)}finally{t(!1)}},disabled:a},a?"Generating...":"Generate Personalized Path"),o&&r.createElement("div",{className:"success"},o),l&&r.createElement("div",{className:"error"},l))},d=({userId:e,onComplete:a})=>{const[t,l]=(0,r.useState)(0),[s,o]=(0,r.useState)({professional_background:"",current_role:"",years_experience:"",technical_skills:[],programming_languages:[],education_level:"",field_of_study:"",academic_experience:"",learning_preferences:{preferred_pace:"moderate",content_format:[],learning_style:"",time_availability:"",primary_goal:""},robotics_interests:[],ai_interests:[],specific_topics:""}),[i,c]=(0,r.useState)(!1),[m,u]=(0,r.useState)(null),d=[{id:"professional",title:"Professional Background",description:"Tell us about your professional experience",fields:[{name:"current_role",label:"Current Role/Position",type:"text",placeholder:"e.g., Software Engineer, Robotics Researcher, Student"},{name:"years_experience",label:"Years of Experience",type:"select",options:[{value:"0-1",label:"0-1 years"},{value:"1-3",label:"1-3 years"},{value:"3-5",label:"3-5 years"},{value:"5-10",label:"5-10 years"},{value:"10+",label:"10+ years"}]},{name:"professional_background",label:"Professional Background",type:"textarea",placeholder:"Describe your professional background, previous roles, and areas of expertise..."}]},{id:"education",title:"Educational Background",description:"Tell us about your educational experience",fields:[{name:"education_level",label:"Education Level",type:"select",options:[{value:"high_school",label:"High School"},{value:"bachelor",label:"Bachelor's Degree"},{value:"master",label:"Master's Degree"},{value:"phd",label:"PhD"},{value:"other",label:"Other"}]},{name:"field_of_study",label:"Field of Study",type:"text",placeholder:"e.g., Computer Science, Robotics, Engineering, Mathematics"},{name:"academic_experience",label:"Academic Experience",type:"textarea",placeholder:"Describe your academic background, research experience, publications, etc..."}]},{id:"skills",title:"Technical Skills",description:"What technical skills do you have?",fields:[{name:"technical_skills",label:"Technical Skills",type:"multiselect",options:[{value:"robotics",label:"Robotics"},{value:"machine_learning",label:"Machine Learning"},{value:"computer_vision",label:"Computer Vision"},{value:"control_systems",label:"Control Systems"},{value:"simulation",label:"Simulation"},{value:"embedded_systems",label:"Embedded Systems"},{value:"real_time_systems",label:"Real-time Systems"},{value:"ai_planning",label:"AI Planning"},{value:"human_robot_interaction",label:"Human-Robot Interaction"}]},{name:"programming_languages",label:"Programming Languages",type:"multiselect",options:[{value:"python",label:"Python"},{value:"c++",label:"C++"},{value:"c",label:"C"},{value:"java",label:"Java"},{value:"javascript",label:"JavaScript"},{value:"matlab",label:"MATLAB"},{value:"ros",label:"ROS/ROS2"},{value:"other",label:"Other"}]}]},{id:"preferences",title:"Learning Preferences",description:"How do you prefer to learn?",fields:[{name:"preferred_pace",label:"Preferred Learning Pace",type:"select",options:[{value:"slow",label:"Slow and thorough"},{value:"moderate",label:"Moderate pace"},{value:"fast",label:"Fast-paced, challenging"}]},{name:"time_availability",label:"Time Availability",type:"select",options:[{value:"less_2",label:"Less than 2 hours per week"},{value:"2_5",label:"2-5 hours per week"},{value:"5_10",label:"5-10 hours per week"},{value:"10_20",label:"10-20 hours per week"},{value:"20_plus",label:"20+ hours per week"}]},{name:"content_format",label:"Preferred Content Format",type:"multiselect",options:[{value:"text",label:"Text-based content"},{value:"video",label:"Video lectures"},{value:"interactive",label:"Interactive simulations"},{value:"hands_on",label:"Hands-on exercises"},{value:"theoretical",label:"Theoretical concepts"},{value:"practical",label:"Practical applications"}]},{name:"primary_goal",label:"Primary Goal",type:"select",options:[{value:"career_advancement",label:"Career advancement"},{value:"academic_pursuit",label:"Academic pursuit"},{value:"personal_interest",label:"Personal interest"},{value:"project_development",label:"Project development"},{value:"research",label:"Research"}]}]},{id:"interests",title:"Areas of Interest",description:"What topics are you most interested in?",fields:[{name:"robotics_interests",label:"Robotics Interests",type:"multiselect",options:[{value:"humanoid_robots",label:"Humanoid Robots"},{value:"mobile_robots",label:"Mobile Robots"},{value:"manipulation",label:"Manipulation"},{value:"locomotion",label:"Locomotion"},{value:"swarm_robots",label:"Swarm Robotics"},{value:"field_robots",label:"Field Robotics"},{value:"service_robots",label:"Service Robots"}]},{name:"ai_interests",label:"AI Interests",type:"multiselect",options:[{value:"deep_learning",label:"Deep Learning"},{value:"reinforcement_learning",label:"Reinforcement Learning"},{value:"computer_vision",label:"Computer Vision"},{value:"nlp",label:"Natural Language Processing"},{value:"planning",label:"AI Planning"},{value:"multi_agent",label:"Multi-agent Systems"},{value:"cognitive_arch",label:"Cognitive Architectures"}]},{name:"specific_topics",label:"Specific Topics of Interest",type:"textarea",placeholder:"Any specific topics, problems, or applications you're interested in..."}]}],p=d[t],h=(e,a)=>{o(t=>({...t,[e]:a}))},g=e=>{const a=e.name.includes(".")?s[e.name.split(".")[0]][e.name.split(".")[1]]:s[e.name];switch(e.type){case"text":case"textarea":return r.createElement("div",{key:e.name,className:"form-group"},r.createElement("label",{htmlFor:e.name},e.label),"textarea"===e.type?r.createElement("textarea",{id:e.name,value:a||"",onChange:a=>h(e.name,a.target.value),placeholder:e.placeholder,className:"form-control"}):r.createElement("input",{type:"text",id:e.name,value:a||"",onChange:a=>h(e.name,a.target.value),placeholder:e.placeholder,className:"form-control"}));case"select":return r.createElement("div",{key:e.name,className:"form-group"},r.createElement("label",{htmlFor:e.name},e.label),r.createElement("select",{id:e.name,value:a||"",onChange:a=>h(e.name,a.target.value),className:"form-control"},r.createElement("option",{value:""},"Select an option"),e.options.map(e=>r.createElement("option",{key:e.value,value:e.value},e.label))));case"multiselect":return r.createElement("div",{key:e.name,className:"form-group"},r.createElement("label",null,e.label),r.createElement("div",{className:"checkbox-group"},e.options.map(t=>r.createElement("div",{key:t.value,className:"checkbox-item"},r.createElement("input",{type:"checkbox",id:`${e.name}-${t.value}`,checked:(a||[]).includes(t.value),onChange:a=>((e,a,t)=>{o(n=>{const r=Array.isArray(n[e])?n[e]:[];let l;return l=t?[...r,a]:r.filter(e=>e!==a),{...n,[e]:l}})})(e.name,t.value,a.target.checked)}),r.createElement("label",{htmlFor:`${e.name}-${t.value}`},t.label)))));default:return null}};return r.createElement("div",{className:"background-assessment-questionnaire"},r.createElement("div",{className:"questionnaire-header"},r.createElement("h2",null,"Professional Background Assessment"),r.createElement("p",{className:"questionnaire-description"},"Help us understand your background and preferences to create a personalized learning experience."),r.createElement("div",{className:"progress-bar"},r.createElement("div",{className:"progress-fill",style:{width:(t+1)/d.length*100+"%"}}),r.createElement("span",{className:"progress-text"},"Step ",t+1," of ",d.length))),r.createElement("div",{className:"questionnaire-form"},r.createElement("h3",null,p.title),r.createElement("p",{className:"step-description"},p.description),m&&r.createElement("div",{className:"error-message"},m),p.fields.map(e=>g(e))),r.createElement("div",{className:"questionnaire-navigation"},r.createElement("button",{className:"btn btn-secondary",onClick:()=>{t>0&&l(t-1)},disabled:0===t},"Previous"),t<d.length-1?r.createElement("button",{className:"btn btn-primary",onClick:()=>{t<d.length-1&&l(t+1)}},"Next"):r.createElement("button",{className:"btn btn-success",onClick:async()=>{try{c(!0),u(null);const r={professional_background:s.professional_background,learning_preferences:JSON.stringify(s.learning_preferences)};await n.apiService.updateProfile(r);try{await n.apiService.generatePersonalizedLearningPath(e)}catch(t){console.warn("Could not generate personalized learning path:",t.message)}a&&a(s)}catch(r){u("Failed to save your responses: "+r.message),console.error("Error saving questionnaire:",r)}finally{c(!1)}},disabled:i},i?"Saving...":"Complete Assessment")),r.createElement("div",{className:"questionnaire-steps-indicator"},d.map((e,a)=>r.createElement("div",{key:e.id,className:"step-indicator "+(a===t?"active":a<t?"completed":""),onClick:()=>l(a)},r.createElement("span",{className:"step-number"},a+1),r.createElement("span",{className:"step-label"},e.title)))))},p=()=>{const{userId:e}=(0,l.g)(),[a,t]=(0,r.useState)(null),[s,o]=(0,r.useState)(!0),[i,c]=(0,r.useState)(null),[p,h]=(0,r.useState)("dashboard"),[g,b]=(0,r.useState)({content:[],learningPaths:[]}),[v,E]=(0,r.useState)(!1);(0,r.useEffect)(()=>{f()},[e]),(0,r.useEffect)(()=>{a&&y()},[a]);const f=async()=>{try{o(!0),c(null);const e=await n.apiService.getMe();t(e)}catch(e){c("Failed to load user data: "+e.message),console.error("Error loading user data:",e)}finally{o(!1)}},y=async()=>{try{const a=await n.apiService.getContentRecommendations(e),t=await n.apiService.getLearningPathRecommendations(e);b({content:a.recommendations||[],learningPaths:t.recommendations||[]})}catch(a){console.error("Error loading recommendations:",a)}};return s?r.createElement("div",{className:"professional-development-page"},r.createElement("div",{className:"loading"},"Loading professional development dashboard...")):i?r.createElement("div",{className:"professional-development-page"},r.createElement("div",{className:"error"},"Error: ",i)):r.createElement("div",{className:"professional-development-page"},r.createElement("div",{className:"page-header"},r.createElement("h1",null,"Professional Development Dashboard"),r.createElement("p",null,"Personalized learning paths and content based on your professional background")),v?r.createElement("div",{className:"assessment-overlay"},r.createElement("div",{className:"assessment-container"},r.createElement("h2",null,"Professional Background Assessment"),r.createElement("p",null,"Complete this assessment to get personalized recommendations"),r.createElement(d,{userId:e,onComplete:e=>{E(!1),f()}}),r.createElement("button",{className:"btn btn-secondary",onClick:()=>E(!1)},"Close Assessment"))):null,r.createElement("div",{className:"dashboard-tabs"},r.createElement("button",{className:"tab-button "+("dashboard"===p?"active":""),onClick:()=>h("dashboard")},"Dashboard"),r.createElement("button",{className:"tab-button "+("learning-paths"===p?"active":""),onClick:()=>h("learning-paths")},"Learning Paths"),r.createElement("button",{className:"tab-button "+("recommendations"===p?"active":""),onClick:()=>h("recommendations")},"Recommendations"),r.createElement("button",{className:"tab-button "+("profile"===p?"active":""),onClick:()=>h("profile")},"Profile & Preferences")),r.createElement("div",{className:"dashboard-content"},"dashboard"===p&&r.createElement("div",{className:"dashboard-overview"},r.createElement("div",{className:"user-summary"},r.createElement("h2",null,"Welcome, ",a?.full_name||a?.username,"!"),r.createElement("p",null,"Based on your profile, we've created personalized learning recommendations."),!a?.professional_background&&r.createElement("div",{className:"profile-completion-notice"},r.createElement("p",null,"\u2728 Complete your professional background assessment to get better recommendations!"),r.createElement("button",{className:"btn btn-primary",onClick:()=>E(!0)},"Complete Assessment"))),r.createElement("div",{className:"quick-stats"},r.createElement("div",{className:"stat-card"},r.createElement("h3",null,"Your Learning Paths"),r.createElement("p",null,"Track your progress")),r.createElement("div",{className:"stat-card"},r.createElement("h3",null,"Recommended Content"),r.createElement("p",null,"Personalized for you")),r.createElement("div",{className:"stat-card"},r.createElement("h3",null,"Skills Gained"),r.createElement("p",null,"Track your growth"))),r.createElement("div",{className:"recent-activity"},r.createElement("h3",null,"Recent Activity"),r.createElement("p",null,"No recent activity yet. Start a learning path to begin!"))),"learning-paths"===p&&r.createElement("div",{className:"learning-paths-section"},r.createElement("div",{className:"section-header"},r.createElement("h2",null,"Your Learning Paths"),r.createElement(u,{userId:e})),r.createElement(m,{userId:e}),r.createElement("div",{className:"available-paths"},r.createElement("h3",null,"Available Learning Paths"),r.createElement("p",null,"Explore our collection of learning paths"))),"recommendations"===p&&r.createElement("div",{className:"recommendations-section"},r.createElement("div",{className:"section-header"},r.createElement("h2",null,"Personalized Recommendations"),r.createElement("p",null,"Content and learning paths tailored to your background and goals")),r.createElement("div",{className:"content-recommendations"},r.createElement("h3",null,"Recommended Content"),g.content.length>0?r.createElement("div",{className:"recommendations-grid"},g.content.map((e,a)=>r.createElement("div",{key:a,className:"recommendation-card"},r.createElement("h4",null,e.title),r.createElement("p",null,e.description),r.createElement("div",{className:"recommendation-meta"},r.createElement("span",{className:"relevance-score"},"Relevance: ",Math.round(10*e.relevance_score)/10),r.createElement("span",{className:"reading-time"},e.reading_time_minutes," min read")),r.createElement("div",{className:"tags"},e.tags.map((e,a)=>r.createElement("span",{key:a,className:"tag"},e))),r.createElement("button",{className:"btn btn-outline"},"Start Reading")))):r.createElement("p",null,"No content recommendations available. Complete your profile assessment for better recommendations.")),r.createElement("div",{className:"path-recommendations"},r.createElement("h3",null,"Recommended Learning Paths"),g.learningPaths.length>0?r.createElement("div",{className:"recommendations-grid"},g.learningPaths.map((a,t)=>r.createElement("div",{key:t,className:"recommendation-card"},r.createElement("h4",null,a.title),r.createElement("p",null,a.description),r.createElement("div",{className:"recommendation-meta"},r.createElement("span",{className:"difficulty"},"Difficulty: ",a.difficulty_level),r.createElement("span",{className:"duration"},"~",a.estimated_duration_hours," hours"),r.createElement("span",{className:"relevance-score"},"Match: ",Math.round(10*a.relevance_score)/10)),r.createElement("button",{className:"btn btn-primary",onClick:()=>(async a=>{try{await n.apiService.assignLearningPathToUser(e,a),window.location.reload()}catch(t){c("Failed to start learning path: "+t.message),console.error("Error starting learning path:",t)}})(a.id)},"Start Learning Path")))):r.createElement("p",null,"No learning path recommendations available. Complete your profile assessment for better recommendations."))),"profile"===p&&r.createElement("div",{className:"profile-section"},r.createElement("div",{className:"section-header"},r.createElement("h2",null,"Profile & Preferences"),r.createElement("button",{className:"btn btn-primary",onClick:()=>E(!0)},"Update Assessment")),r.createElement("div",{className:"profile-details"},r.createElement("h3",null,"Professional Background"),r.createElement("p",null,r.createElement("strong",null,"Current Role:")," ",a?.professional_background||"Not specified"),r.createElement("h3",null,"Learning Preferences"),r.createElement("p",null,r.createElement("strong",null,"Preferred Pace:")," ",a?.learning_preferences?.preferred_pace||"Not specified"),r.createElement("p",null,r.createElement("strong",null,"Primary Goal:")," ",a?.learning_preferences?.primary_goal||"Not specified"),r.createElement("p",null,r.createElement("strong",null,"Time Availability:")," ",a?.learning_preferences?.time_availability||"Not specified"),r.createElement("h3",null,"Technical Skills"),r.createElement("p",null,r.createElement("strong",null,"Programming Languages:")," ",a?.programming_languages?.join(", ")||"Not specified")))))}}}]);